<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CatÃ¡logo KAFLOCA STORE</title>
    <style>
        :root {
            --primary: #D4AF37; /* Dorado */
            --dark: #222;
            --light: #f4f4f4;
            --whatsapp: #25D366;
            --discount: #e74c3c;
        }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background-color: var(--light); margin: 0; padding-bottom: 100px; color: var(--dark); }
        
        /* Header */
        header { background: white; padding: 20px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05); position: sticky; top: 0; z-index: 100; }
        h1 { margin: 0; letter-spacing: 1px; text-transform: uppercase; font-size: 1.5rem; }
        .subtitle { color: var(--primary); font-weight: 600; margin-top: 5px; }
        
        /* CategorÃ­as */
        .nav-scroller { display: flex; overflow-x: auto; gap: 10px; padding: 15px; background: white; border-bottom: 1px solid #eee; -webkit-overflow-scrolling: touch; }
        .cat-btn { padding: 8px 20px; border: 1px solid #ddd; border-radius: 20px; background: white; cursor: pointer; white-space: nowrap; transition: 0.3s; }
        .cat-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        /* Grilla */
        .container { max-width: 1200px; margin: 20px auto; padding: 0 15px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; }

        /* Tarjeta */
        .card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: flex; flex-direction: column; transition: transform 0.2s; height: 100%; }
        .card:hover { transform: translateY(-5px); }
        
        .img-wrapper { position: relative; width: 100%; height: 250px; background: #eee; overflow: hidden; }
        .card-img { width: 100%; height: 100%; object-fit: cover; }
        .no-img { display: flex; align-items: center; justify-content: center; height: 100%; color: #999; flex-direction: column; }
        
        .card-body { padding: 15px; display: flex; flex-direction: column; flex-grow: 1; }
        .code { font-size: 0.75rem; color: #888; font-weight: bold; background: #eee; padding: 2px 6px; border-radius: 4px; align-self: flex-start; margin-bottom: 8px; }
        .name { font-size: 1.1rem; font-weight: 700; margin: 0 0 8px 0; line-height: 1.2; }
        .desc { font-size: 0.85rem; color: #666; margin-bottom: 15px; line-height: 1.4; flex-grow: 1; }
        
        .footer { margin-top: auto; display: flex; justify-content: space-between; align-items: center; border-top: 1px solid #f0f0f0; padding-top: 15px; }
        .price { font-size: 1.2rem; font-weight: 800; color: var(--primary); }
        .add-btn { background: var(--dark); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; }
        .add-btn:hover { background: var(--primary); }

        /* BotÃ³n Flotante */
        .fab { position: fixed; bottom: 30px; right: 30px; background: var(--whatsapp); color: white; padding: 15px 25px; border-radius: 50px; font-weight: bold; box-shadow: 0 5px 20px rgba(0,0,0,0.2); cursor: pointer; z-index: 900; display: flex; align-items: center; gap: 10px; transition: transform 0.2s; }
        .fab:hover { transform: scale(1.05); }

        /* Modal */
        .modal-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000; align-items: center; justify-content: center; }
        .modal-box { background: white; width: 90%; max-width: 500px; padding: 25px; border-radius: 15px; max-height: 90vh; overflow-y: auto; position: relative; }
        
        .cart-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #eee; }
        .promo-banner { background: #fff3cd; color: #856404; padding: 10px; border-radius: 5px; margin: 10px 0; font-size: 0.9rem; text-align: center; border: 1px solid #ffeeba; }
        .promo-success { background: #d4edda; color: #155724; border-color: #c3e6cb; }
        
        .totals-area { background: #fafafa; padding: 15px; border-radius: 8px; margin: 15px 0; }
        .row { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.95rem; }
        .total-final { font-size: 1.3rem; font-weight: bold; color: var(--primary); border-top: 1px solid #ddd; padding-top: 5px; margin-top: 5px; }
        .discount-text { color: var(--discount); }

        input, textarea { width: 100%; padding: 12px; margin: 5px 0 15px 0; border: 1px solid #ddd; border-radius: 5px; box-sizing: border-box; }
        .btn-send { width: 100%; padding: 15px; border: none; border-radius: 8px; font-weight: bold; font-size: 1rem; cursor: pointer; margin-top: 5px; }
    </style>
</head>
<body>

<header>
    <h1>KAFLOCA STORE</h1>
    <div class="subtitle">CatÃ¡logo de JoyerÃ­a Acero Inoxidable</div>
</header>

<div class="nav-scroller">
    <button class="cat-btn active" onclick="filter('all')">Todos</button>
    <button class="cat-btn" onclick="filter('Anillos')">Anillos</button>
    <button class="cat-btn" onclick="filter('Aretes')">Aretes</button>
    <button class="cat-btn" onclick="filter('Collares')">Collares</button>
    <button class="cat-btn" onclick="filter('Pulseras')">Pulseras</button>
    <button class="cat-btn" onclick="filter('Sets')">Conjuntos</button>
</div>

<div class="container">
    <div class="grid" id="grid"></div>
</div>

<div class="fab" onclick="toggleCart()">
    <span>ðŸ›’</span> <span id="cart-badge">0</span>
</div>

<div class="modal-overlay" id="modal">
    <div class="modal-box">
        <span onclick="toggleCart()" style="float:right; cursor:pointer; font-size:1.5rem">&times;</span>
        <h2>Tu Pedido</h2>
        
        <div id="cart-list"></div>
        
        <div id="promo-msg" class="promo-banner">
            Â¡Agrega 5 productos o mÃ¡s para obtener 20% de descuento!
        </div>

        <div class="totals-area">
            <div class="row">
                <span>Subtotal:</span>
                <span>â‚¡<span id="subtotal">0</span></span>
            </div>
            <div class="row discount-text" id="discount-row" style="display:none;">
                <span>Descuento (20%):</span>
                <span>-â‚¡<span id="discount-val">0</span></span>
            </div>
            <div class="row total-final">
                <span>Total:</span>
                <span>â‚¡<span id="final-total">0</span></span>
            </div>
        </div>

        <h3>Datos de EnvÃ­o</h3>
        <input type="text" id="name" placeholder="Tu Nombre Completo">
        <input type="tel" id="phone" placeholder="TelÃ©fono">
        <textarea id="address" placeholder="DirecciÃ³n de envÃ­o / Notas"></textarea>

        <button class="btn-send" style="background:var(--whatsapp); color:white" onclick="checkout('whatsapp')">Enviar por WhatsApp</button>
        <button class="btn-send" style="background:#333; color:white" onclick="checkout('email')">Enviar por Correo</button>
    </div>
</div>

<script>
    const CONFIG = {
        whatsapp: "50684107482", 
        email: "floryta_81@hotmail.com", // CAMBIA ESTO
        discountThreshold: 5, // Cantidad para activar descuento
        discountRate: 0.20    // 20%
    };

    /* BASE DE DATOS DE PRODUCTOS
       [cite_start]Descripciones copiadas textualmente del PDF [cite: 1-152] */
    const products = [
        [cite_start]// ANILLOS [cite: 2-9]
        {id:"AN-01", n:"Anillo Geo Verde", p:3500, c:"Anillos", d:"Anillo de acero inoxidable 304, con recubrimiento de iones (IP) chapado en oro autÃ©ntico 18k, geomÃ©trico estilo IG resistente al agua y al deslustre. Color verde"},
        {id:"AN-02", n:"Anillo Geo Oro", p:2500, c:"Anillos", d:"Anillo de acero inoxidble 316, chapado en oro autÃ©ntico y recubrimiento PVD geomÃ©trico, resistente al agua y al deslustre."},
        {id:"AN-03", n:"Anillo Geo Beige", p:3500, c:"Anillos", d:"Anillo de acero inoxidable 304, con recubrimiento de iones (IP) chapado en oro autÃ©ntico 18k, geomÃ©trico estilo IG resistente al agua y al deslustre. Color beige"},
        {id:"AN-04", n:"Anillo Geo Burdeos", p:3500, c:"Anillos", d:"Anillo de acero inoxidable 304, con recubrimiento de iones (IP) chapado en oro autÃ©ntico 18k, geomÃ©trico estilo IG resistente al agua y al deslustre. Color burdeos"},
        {id:"AN-05", n:"Anillo Perla Blanca", p:2200, c:"Anillos", d:"Anillo de acero inoxidable 304, recubrimiento de iones (IP) perla blanca. Resistente al agua y al deslustre."},
        {id:"AN-06", n:"Anillo Ojo de Tigre", p:3500, c:"Anillos", d:"Anillo de acero inoxidable 304, chapado en oro autÃ©ntico. Recubrimiento de iones (IP) perla ojo de tigre. Resistente al agua y al deslustre."},
        {id:"AN-07", n:"Anillo Perla Oro", p:3500, c:"Anillos", d:"Anillo de acero inoxidable 304, chapado en oro autÃ©ntico. Recubrimiento de iones (IP) perla blanca. Resistente al agua y al deslustre."},
        {id:"AN-08", n:"Anillo Abierto 18k", p:2000, c:"Anillos", d:"Anillo abierto de acero inoxidable 304 con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"AN-09", n:"Anillo Concha", p:1500, c:"Anillos", d:"Anillo de acero inoxidable con diseÃ±o de concha, dorado."},
        {id:"AN-10", n:"Anillo Abierto Perla", p:3000, c:"Anillos", d:"Anillo abierto con perla de acero inoxidable 304 con recubrimiento PVD. Resistente al agua y al deslustre."},
        {id:"AN-11", n:"Anillo Ostra", p:2500, c:"Anillos", d:"Anillo de acero inoxidable, en forma de ostra con perla."},
        {id:"AN-12", n:"Anillo Leopardo", p:3500, c:"Anillos", d:"Anillo Ajustable De Acero Inoxidable Con DiseÃ±o GeomÃ©trico Y Estampado De Leopardo."},
        {id:"AN-13", n:"Anillo Leopardo II", p:3500, c:"Anillos", d:"Anillo Ajustable De Acero Inoxidable Con DiseÃ±o GeomÃ©trico Y Estampado De Leopardo."},
        {id:"AN-14", n:"Anillo Abierto PVD", p:2500, c:"Anillos", d:"Anillo abierto de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"AN-15", n:"Anillo CorazÃ³n Abierto", p:2000, c:"Anillos", d:"Anillo corazÃ³n abierto de Acero inoxidable 304 con recubrimiento PVD. Resistente al agua y al deslustre."},
        {id:"AN-16", n:"Anillo Resina", p:3000, c:"Anillos", d:"Anillo abierto de acero inoxidable 304 con centro de resina, chapado en oro de 18k. Electrochapado al vacÃ­o (en horno)."},
        {id:"AN-17", n:"Anillo CorazÃ³n Ajustable", p:2500, c:"Anillos", d:"Anillo de corazÃ³n abierto ajustable de acero inoxidable 304."},
        {id:"AN-18", n:"Anillo Puntos Rojos", p:2500, c:"Anillos", d:"Anillo abierto con puntos rojos de Acero Inoxidable 304."},
        {id:"AN-19", n:"Anillo PVD Oro", p:2000, c:"Anillos", d:"Anillo abierto de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"AN-20", n:"Anillo Flor Blanca", p:2000, c:"Anillos", d:"Anillo abierto de flor blanca de acero inoxidable 304."},
        {id:"AN-23", n:"Anillo Perlas Peq", p:2500, c:"Anillos", d:"Anillo abierto de perlas pequeÃ±as de acero inoxidable 304."},
        {id:"AN-24", n:"Anillo PVD Oro 18k", p:2500, c:"Anillos", d:"Anillo abierto de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"AN-25", n:"Anillo Ojo Gato", p:2500, c:"Anillos", d:"Anillo abierto ojo de gato de acero inoxidable 304."},
        {id:"AN-26", n:"Anillo Blanco Peq", p:2200, c:"Anillos", d:"Anillo abierto blanco de acero inoxidable 304. PequeÃ±o."},
        {id:"AN-27", n:"Anillo Gotas Peq", p:2200, c:"Anillos", d:"Anillo abierto de gotas pequeÃ±as de acero inoxidable 304."},
        {id:"AN-28", n:"Anillo PVD 18k", p:2500, c:"Anillos", d:"Anillo abierto de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"AN-29", n:"Anillo PVD 18k II", p:2500, c:"Anillos", d:"Anillo abierto de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"AN-30", n:"Anillo Simple", p:2000, c:"Anillos", d:"Anillo abierto de acero inoxidable 304."},
        {id:"AN-31", n:"Anillo Flor Blanca II", p:2200, c:"Anillos", d:"Anillo abierto de flor blanca de acero inoxidable 304."},

        [cite_start]// ARETES [cite: 28-96]
        {id:"AR-01", n:"Aretes CorazÃ³n", p:2000, c:"Aretes", d:"Aretes en forma de corazÃ³n, de acero inoxidable con pintura de oro 18k."},
        {id:"AR-02", n:"Aretes Diamantes", p:3000, c:"Aretes", d:"Aretes en forma de corazÃ³n con incrustaciones de diamantes, accesorios de acero de titanio zirconia."},
        {id:"AR-03", n:"Aretes Caramelo", p:3000, c:"Aretes", d:"Aretes de color caramelo, diseÃ±o minimalista vintage, geomÃ©tricos, chapados en oro al vacÃ­o."},
        {id:"AR-04", n:"Aretes Caramelo Osc", p:3000, c:"Aretes", d:"Aretes de color caramelo oscuro, diseÃ±o minimalista vintage, geomÃ©tricos, chapados en oro al vacÃ­o."},
        {id:"AR-05", n:"Aretes Rosario", p:2500, c:"Aretes", d:"Aretes Rosario de acero inoxidable 304, con recubrimiento de iones (IP) chapados en oro de 18k, resistente al agua y al deslustre. Grandes."},
        {id:"AR-06", n:"Aretes Lechuguilla Pl", p:2500, c:"Aretes", d:"Aretes de acero inoxidable 316L, en forma de lechuguilla, con revestimiento al vacÃ­o, circÃ³n chapado en oro autÃ©ntico de 18k. Hecho a mano. Platedos."},
        {id:"AR-07", n:"Aretes Lechuguilla Or", p:2750, c:"Aretes", d:"Aretes de acero inoxidable 316L, en forma de lechuguilla, con revestimiento al vacÃ­o, circÃ³n chapado en oro autÃ©ntico de 18k. Hecho a mano. Dorados."},
        {id:"AR-08", n:"Aretes Flor 4 PÃ©talos", p:2300, c:"Aretes", d:"Aretes de acero inoxidable, en forma de flor de cuatro pÃ©talos con perla. Grandes."},
        {id:"AR-09", n:"Aretes Lazo Peq", p:2000, c:"Aretes", d:"Aretes de acero inoxidable, en forma de lazo con perla. PequeÃ±os."},
        {id:"AR-10", n:"Aretes Palmera", p:2300, c:"Aretes", d:"Aretes de acero inoxidable, en forma de palmera con perla. Grandes."},
        {id:"AR-11", n:"Aretes AsimÃ©tricos", p:2500, c:"Aretes", d:"Aretes de acero inoxidable y resina estilo asimÃ©trico dorado."},
        {id:"AR-14", n:"Aretes Pulpo", p:2300, c:"Aretes", d:"Aretes de acero inoxidable en forma de pulpo con perlas ovaladas. Grandes."},
        {id:"AR-15", n:"Aretes Ã“valo", p:2300, c:"Aretes", d:"Aretes de acero inoxidable en forma de Ã³valo con perlas ovaladas. Grandes."},
        {id:"AR-16", n:"Aretes Platillo", p:2300, c:"Aretes", d:"Aretes de acero inoxidable en forma de platillo con perlas ovaladas. Grandes."},
        {id:"AR-17", n:"Aretes Lazo Gde", p:2300, c:"Aretes", d:"Aretes de acero inoxidable, en forma de lazo con perla. Grandes."},
        {id:"AR-18", n:"Aretes Gota PVD", p:2000, c:"Aretes", d:"Aretes de acero inoxidable 304 en forma de gota con recubrimiento PVD chapado en oro autÃ©ntico. Resistente al agua y al deslustre."},
        {id:"AR-19", n:"Aretes CorazÃ³n Perla", p:2300, c:"Aretes", d:"Aretes de acero inoxidable, en forma de corazÃ³n con perla. Grandes."},
        {id:"AR-20", n:"Aretes Aro C", p:2500, c:"Aretes", d:"Aretes en aro en forma de C de Acero inoxidable 304 con recubrimiento de iones (IP), chapados en oro de 18k. Resistente al agua y al deslustre. Grandes."},
        {id:"AR-21", n:"Aretes Lazo Colgante", p:2000, c:"Aretes", d:"Aretes en forma de lazo de acero inoxidable 304 con recubrimiento PVD chapado en oro autÃ©ntico, con perla colgante. Resistente al agua y al deslustre."},
        {id:"AR-22", n:"Aretes PÃºa", p:2300, c:"Aretes", d:"Aretes PÃºa de acero inoxidable 304."},
        {id:"AR-23", n:"Aretes C Flor Blanca", p:2000, c:"Aretes", d:"Aretes en C de flor blanca de acero inoxidable 201 y acero inoxidable 304, con recubrimiento de iones (IP) chapados en oro de 18k. Resistente al agua y al deslustre."},
        {id:"AR-24", n:"Aretes Argolla CorazÃ³n", p:2000, c:"Aretes", d:"Aretes de argolla con colgante de corazÃ³n de acero inoxidable 304 con recubrimiento PVD chapado en oro autÃ©ntico. Resistente al agua y al deslustre."},
        {id:"AR-25", n:"Aretes C Flor Negra", p:2200, c:"Aretes", d:"Aretes en C de flor negra de acero inoxidable 201 y acero inoxidable 304, con recubrimiento de iones (IP) chapados en oro de 18k. Resistente al agua y al deslustre."},
        {id:"AR-26", n:"Aretes Flor Negra", p:2000, c:"Aretes", d:"Aretes de flor negra de acero inoxidable 201 y acero inoxidable 304, con recubrimiento de iones (IP) chapados en oro de 18k. Resistente al agua y al deslustre."},
        {id:"AR-27", n:"Aretes Peach", p:2000, c:"Aretes", d:"Aretes peach de Acero inoxidable 304."},
        {id:"AR-28", n:"Aretes Nido", p:2300, c:"Aretes", d:"Aretes de acero inoxidable, en forma de nido con perla. Grandes."},
        {id:"AR-29", n:"Aretes Redondos", p:2300, c:"Aretes", d:"Aretes de acero inoxidable, en forma redonda con perla. Grandes."},
        {id:"AR-30", n:"Aretes Abanico", p:2000, c:"Aretes", d:"Aretes de acero inoxidable, en forma de abanico con perla. PequeÃ±os."},
        {id:"AR-31", n:"Aretes MÃ¡rmol Blanco", p:2500, c:"Aretes", d:"Aretes redondos de resina chapados en oro de 18K y acero inoxidable 304 con electrochapado al vacÃ­o (en horno) con incrustado blanco marmoleado."},
        {id:"AR-32", n:"Aretes MÃ¡rmol CafÃ©", p:2500, c:"Aretes", d:"Aretes redondos de resina chapados en oro de 18K y acero inoxidable 304 con electrochapado al vacÃ­o (en horno) con incrustado cafÃ© marmoleado."},
        {id:"AR-33", n:"Aretes Espiral", p:2000, c:"Aretes", d:"Aretes de acero inoxidable, en forma de espiral con perla. PequeÃ±os."},
        {id:"AR-34", n:"Aretes MÃ¡rmol Verde", p:2500, c:"Aretes", d:"Aretes redondos de resina chapados en oro de 18K y acero inoxidable 304 con electrochapado al vacÃ­o (en horno) con incrustado verde marmoleado."},
        {id:"AR-35", n:"Aretes TulipÃ¡n", p:1500, c:"Aretes", d:"Aretes en forma de TulipÃ¡n, enchapado acero titanio y chapados en oro de 18k. Recubrimiento PVD."},
        {id:"AR-38", n:"Aretes Ostra", p:2300, c:"Aretes", d:"Aretes de acero inoxidable, en forma de ostra con perla. Grandes."},
        {id:"AR-39", n:"Aretes Fresa", p:2000, c:"Aretes", d:"Aretes fresa de acero inoxidable 304."},
        {id:"AR-40", n:"Aretes Argolla Perla", p:2000, c:"Aretes", d:"Aretes de argolla con colgante de perla de acero inoxidable con recubrimiento PVD chapado en oro autÃ©ntico. Resistente al agua y al deslustre."},
        {id:"AR-41", n:"Aretes C Peq", p:2500, c:"Aretes", d:"Aretes en aro en forma de C de Acero inoxidable 304 con recubrimiento de iones (IP), chapados en oro de 18k. Resistente al agua y al deslustre. PequeÃ±os."},
        {id:"AR-42", n:"Aretes Flor 5 PÃ©talos", p:2000, c:"Aretes", d:"Aretes de acero inoxidable, en forma de flor de cinco pÃ©talos con perla. PequeÃ±os."},
        {id:"AR-43", n:"Aretes MÃ¡rmol Celeste", p:2500, c:"Aretes", d:"Aretes redondos de resina chapados en oro de 18K y acero inoxidable 304 con electrochapado al vacÃ­o (en horno) con incrustado celeste marmoleado."},
        {id:"AR-44", n:"Aretes Margarita", p:1500, c:"Aretes", d:"Aretes Margarita de acero inoxidable 304 con recubrimiento PVD chapado en oro autÃ©ntico. Resistente al agua y al deslustre."},
        {id:"AR-45", n:"Aretes CorazÃ³n Ondulado", p:2200, c:"Aretes", d:"Aretes corazÃ³n ondulado de acero inoxidable 304."},
        {id:"AR-46", n:"Aretes Rosario Peq", p:2000, c:"Aretes", d:"Aretes Rosario de acero inoxidable 304, con recubrimiento de iones (IP) chapados en oro de 18k, resistente al agua y al deslustre. PequeÃ±os."},
        {id:"AR-47", n:"Aretes CorazÃ³n Gde", p:2500, c:"Aretes", d:"Aretes corazÃ³n ondulado de acero inoxidable 304. Grandes."},
        {id:"AR-48", n:"Aretes Bolita Chunky", p:4000, c:"Aretes", d:"Aretes de bolita chunky de Acero inoxidable 304."},
        {id:"AR-49", n:"Aretes Flor", p:2200, c:"Aretes", d:"Aretes flor de acero inoxidable 304."},
        {id:"AR-50", n:"Aretes Geo Hueco", p:2500, c:"Aretes", d:"Aretes de acero inoxidable 316 y oro de 18k, estilo geomÃ©trico hueco de textura cuadrada, con capa de retenciÃ³n de color electrochapada."},
        {id:"AR-52", n:"Aretes Hoja", p:2000, c:"Aretes", d:"Aretes hoja de acero inoxidable 304."},
        {id:"AR-53", n:"Aretes Bloom", p:2500, c:"Aretes", d:"Aretes bloom de acero inoxidable 304."},
        {id:"AR-54", n:"Aretes Maxi Verde", p:3500, c:"Aretes", d:"Aretes maximalistas de acero inoxidable 304, con recubrimiento de iones (IP), chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre. Verde."},
        {id:"AR-55", n:"Aretes Maxi CafÃ©", p:3500, c:"Aretes", d:"Aretes maximalistas de acero inoxidable 304, con recubrimiento de iones (IP), chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre. CafÃ©."},
        {id:"AR-56", n:"Aretes Maxi Beige", p:3500, c:"Aretes", d:"Aretes maximalistas de acero inoxidable 304, con recubrimiento de iones (IP), chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre. Beige."},
        {id:"AR-57", n:"Aretes Roca", p:2200, c:"Aretes", d:"Aretes roca de acero inoxidable 304."},
        {id:"AR-58", n:"Aretes Margarita Peq", p:2000, c:"Aretes", d:"Aretes margarita de acero inoxidable 201 y acero inoxidable 304 con recubrimiento de iones (IP) chapados en oro de 18k. Resistente al agua y al deslustre. PequeÃ±os."},
        {id:"AR-59", n:"Aretes C Love", p:2200, c:"Aretes", d:"Aretes C love de acero inoxidable 304."},
        {id:"AR-60", n:"Aretes Gota", p:2000, c:"Aretes", d:"Aretes en forma de gota de acero inoxidable."},
        {id:"AR-61", n:"Aretes Gota Oro 18k", p:2000, c:"Aretes", d:"Aretes en forma de gota de acero inoxidable con pintura de oro 18k."},
        {id:"AR-62", n:"Aretes CorazÃ³n Oro", p:2000, c:"Aretes", d:"Aretes en forma de corazÃ³n de acero inoxidable con pintura de oro 18k."},
        {id:"AR-63", n:"Aretes Florcita Blanca", p:2000, c:"Aretes", d:"Aretes florcita blanca de acero inoxidable 201 y acero inoxidable 304 con recubrimiento de iones (IP) chapados en oro de 18k. Resistente al agua y al deslustre."},
        {id:"AR-64", n:"Aretes Aro C", p:2000, c:"Aretes", d:"Aretes de aro en forma de C de acero inoxidable 304 con recubrimiento de iones (IP). Resistente al agua y al deslustre."},
        {id:"AR-65", n:"Aretes CorazÃ³n BaÃ±ado", p:1500, c:"Aretes", d:"Aretes en forma de corazÃ³n de acero inoxidable 304, chapado de larga duraciÃ³n, baÃ±ado en oro."},
        {id:"AR-66", n:"Aretes Florcita C", p:2000, c:"Aretes", d:"Aretes florcita en C de acero inoxidable 201 y acero inoxidable 304 con recubrimiento de iones (IP) chapados en oro de 18k. Resistente al agua y al deslustre."},
        
        // EAR CUFFS
        {id:"EA-01", n:"Ear Cuff 304", p:1500, c:"Aretes", d:"Ear cuff enchapado de Acero inoxidable 304."},
        {id:"EA-02", n:"Ear Cuff 304 II", p:1500, c:"Aretes", d:"Ear cuff enchapado de Acero inoxidable 304."},
        {id:"EA-03", n:"Ear Cuff 304 III", p:1500, c:"Aretes", d:"Ear cuff enchapado de Acero inoxidable 304."},
        {id:"EA-06", n:"Ear Cuff Chunky Oro", p:2000, c:"Aretes", d:"Ear cuff chuncky de acero inoxidable con recubrimiento PVD, chapados en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"EA-07", n:"Ear Cuff Chunky Oro II", p:2000, c:"Aretes", d:"Ear cuff chuncky de acero inoxidable con recubrimiento PVD, chapados en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},

        [cite_start]// COLLARES [cite: 97-116]
        {id:"CA-01", n:"Collar 3 Capas", p:3000, c:"Collares", d:"Collar de 3 capas, color sÃ³lido de acero inoxidable 304 resistente al agua y al deslustre, con recubrimiento PVD chapado en oro autÃ©ntico oro de 18 quilates."},
        {id:"CA-02", n:"Collar 2 Capas", p:3500, c:"Collares", d:"Collar de 2 capas de cadena de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"CA-03", n:"Collar 2 Capas II", p:3000, c:"Collares", d:"Collar de 2 capas de cadena de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"CA-04", n:"Collar 2 Capas III", p:3500, c:"Collares", d:"Collar de 2 capas de cadena de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"CA-05", n:"Collar TulipÃ¡n Oro", p:2000, c:"Collares", d:"Collar con dije de tulipÃ¡n de acero inoxidable 304, con recubrimiento PVD chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"CA-09", n:"Collar CorazÃ³n Zirconia", p:3500, c:"Collares", d:"Collar con incrustaciones de diamantes en forma de corazÃ³n, accesorios de acero de titanio zirconia."},
        {id:"CA-10", n:"Collar Capas 18k", p:3500, c:"Collares", d:"Collar en capas de acero inoxidable 304 con recubrimiento PVD chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"CA-11", n:"Collar Capas PVD", p:2500, c:"Collares", d:"Collar en capas de acero inoxidable 304 con recubrimiento PVD. Resistente al agua y al deslustre."},
        {id:"CA-12", n:"Cadena Rombos", p:3000, c:"Collares", d:"Cadena de rombos doble capa de acero inoxidable 316, electrochapado chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"CA-13", n:"Cadena CorazÃ³n 18k", p:3500, c:"Collares", d:"Cadena de doble capa con colgante de corazÃ³n de acero inoxidable 316 chapado en oro de 18K, electrochapado al vacÃ­o (en horno)."},
        {id:"CA-14", n:"Cadena GeomÃ©trica", p:2500, c:"Collares", d:"Cadena de patrÃ³n geomÃ©trico de acero inoxidable 201 con recubrimiento al vacÃ­o (en horno), chapado en oro real de 18k."},
        {id:"CA-15", n:"Collar Doble 18k", p:3000, c:"Collares", d:"Collar doble de acero inoxidable 304 con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al y al deslustre."},
        {id:"CA-16", n:"Collar Doble 18k II", p:3200, c:"Collares", d:"Collar doble de acero inoxidable 304 con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al y al deslustre."},
        {id:"CA-17", n:"Collar Perla Oro", p:3000, c:"Collares", d:"Collar de acero inoxidable 304, chapado en oro, con perla."},
        {id:"CA-18", n:"Collar Doble 18k III", p:3000, c:"Collares", d:"Collar doble de acero inoxidable 304 con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},

        [cite_start]// PULSERAS Y TOBILLERAS [cite: 117-143]
        {id:"BR-01", n:"Brazalete PVD Oro", p:2500, c:"Pulseras", d:"Brazalete de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico. Resistente al agua y al deslustre."},
        {id:"BR-02", n:"Brazalete PVD Oro II", p:2500, c:"Pulseras", d:"Brazalete de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico. Resistente al agua y al deslustre."},
        {id:"BR-03", n:"Brazalete PVD Oro III", p:2000, c:"Pulseras", d:"Brazalete de acero inoxidable 304, con recubrimiento PVD, chapado en oro autÃ©ntico. Resistente al agua y al deslustre."},
        {id:"PU-01", n:"Pulsera Acero 304", p:2500, c:"Pulseras", d:"Pulsera de acero inoxidable 304. Resistente al agua y al deslustre."},
        {id:"PU-06", n:"Pulsera Simple", p:2000, c:"Pulseras", d:"Pulsera de acero inoxidable 304. Resistente al agua y al deslustre."},
        {id:"PU-10", n:"Pulsera Titanio Oro", p:3000, c:"Pulseras", d:"Pulsera de acero inoxidable 304 y acero de titanio con recubrimiento PVD chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"PU-11", n:"Pulsera IP 304", p:2500, c:"Pulseras", d:"Pulsera de acero inoxidable 304 con recubrimiento de iones (IP). Resistente al agua y al deslustre."},
        {id:"PU-14", n:"Pulsera IP 304 II", p:3000, c:"Pulseras", d:"Pulsera de acero inoxidable 304 con recubrimiento de iones (IP). Resistente al agua y al deslustre."},
        {id:"PU-15", n:"Pulsera PVD 18k", p:3000, c:"Pulseras", d:"Pulsera de acero inoxidable 304 con recubrimiento PVD, chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"PU-16", n:"Pulsera PVD 304", p:2500, c:"Pulseras", d:"Pulsera de acero inoxidable 304 con recubrimiento PVD. Resistente al agua y al deslustre."},
        {id:"PU-18", n:"Pulsera GeomÃ©trica", p:2000, c:"Pulseras", d:"Pulsera de patrÃ³n geomÃ©trico de acero inoxidable 201 con recubrimiento al vacÃ­o (en horno), chapado en oro real de 18k."},
        {id:"PU-24", n:"Pulsera CorazÃ³n 16k", p:2500, c:"Pulseras", d:"Pulsera con corazÃ³n de acero inoxidable 304 con recubrimiento PVD, chapado en oro autÃ©ntico de 16k. Resistente al agua y deslustre."},
        {id:"TO-01", n:"Tobillera PVD 18k", p:2000, c:"Tobilleras", d:"Tobillera de acero inoxidable 304 con recubrimiento PVD chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"TO-02", n:"Tobillera Acero", p:2000, c:"Tobilleras", d:"Tobillera de acero inoxidable."},
        {id:"TO-03", n:"Tobillera PVD 18k II", p:2000, c:"Tobilleras", d:"Tobillera de acero inoxidable 304 con recubrimiento PVD chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"TO-04", n:"Tobillera PVD 18k III", p:2000, c:"Tobilleras", d:"Tobillera de acero inoxidable 304 con recubrimiento PVD chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"TO-05", n:"Tobillera CorazÃ³n", p:2500, c:"Tobilleras", d:"Tobillera doble con corazÃ³n de acero inoxidable."},
        {id:"TO-06", n:"Tobillera CorazÃ³n II", p:2200, c:"Tobilleras", d:"Tobillera doble con corazÃ³n de acero inoxidable."},

        [cite_start]// SETS / CONJUNTOS [cite: 144-152]
        {id:"ARJ-01", n:"Set 3 Pares Flores", p:3000, c:"Sets", d:"Juego de tres pares de aretes de acero inoxidable 304 con diseÃ±o de flor, chapado en oro de 18k."},
        {id:"ARJ-02", n:"Set 3 Pares Geo", p:3000, c:"Sets", d:"Juego de tres pares de aretes de acero inoxidable 304 con diseÃ±o de rectÃ¡ngulo, aro y bolita, chapado en oro de 18k."},
        {id:"ARJ-03", n:"Set 3 Pares CorazÃ³n", p:3000, c:"Sets", d:"Juego de tres pares de aretes de acero inoxidable 304 con diseÃ±o de corazÃ³n, aro y bolita, chapado en oro de 18k."},
        {id:"CO-01", n:"Set Perla Gota", p:3500, c:"Sets", d:"Elegante set de 3 piezas (aretes y cadena) de acero inoxidable impermeable y que no se desvanece, con dije de perla en forma de gota de agua en oro/plata."},
        {id:"CO-02", n:"Set Resina 18k", p:4500, c:"Sets", d:"Set de 3 piezas (cadena y aretes) de acero inoxidable 304 con recubrimiento de iones (IP) y resina, chapados en oro de 18k. Resistente al agua y al deslustre."},
        {id:"CO-03", n:"Set Resina 18k II", p:4500, c:"Sets", d:"Set de 3 piezas (cadena y aretes) de acero inoxidable 304 con recubrimiento de iones (IP) y resina, chapados en oro de 18k. Resistente al agua y al deslustre."},
        {id:"CO-04", n:"Set Cadena Pulsera", p:5000, c:"Sets", d:"Set de 2 piezas (cadena y pulsera) de acero inoxidable 316. Electrochapado chapado en oro autÃ©ntico de 18k. Resistente al agua y al deslustre."},
        {id:"CO-05", n:"Set CorazÃ³n Doble", p:4500, c:"Sets", d:"Conjunto de collar y pulsera de acero inoxidable chapado en oro de 18K con colgante de corazÃ³n de doble capa."},
        {id:"CO-06", n:"Set CorazÃ³n Doble II", p:4200, c:"Sets", d:"Conjunto de collar y pulsera de acero inoxidable chapado en oro de 18K con colgante de corazÃ³n de doble capa."},
        {id:"CO-07", n:"Set Flor Negra", p:2500, c:"Sets", d:"Set de 3 piezas (collar y aretes) de acero inoxidable 304, flor negra de seis pÃ©talos con gota de aceite de chapado en oro, imitaciÃ³n electrochapado pulido."},
        {id:"CO-08", n:"Set Flor Blanca", p:2500, c:"Sets", d:"Set de 3 piezas (collar y aretes) de acero inoxidable 304, flor blanca de seis pÃ©talos con gota de aceite de chapado en oro, imitaciÃ³n electrochapado pulido."}
    ];

    let cart = [];

    // Carga de productos
    function render(category = 'all') {
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        
        const filtered = category === 'all' 
            ? products 
            : products.filter(p => (category === 'Tobilleras' ? p.c === 'Tobilleras' : (category === 'Pulseras' ? (p.c === 'Pulseras' || p.c === 'Tobilleras') : p.c === category)));

        filtered.forEach(p => {
            const card = document.createElement('div');
            card.className = 'card';
            // Busca imagen en carpeta img/ID.jpg
            const imgPath = `img/${p.id}.jpg`;
            
            card.innerHTML = `
                <div class="img-wrapper">
                    <img src="${imgPath}" class="card-img" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
                    <div class="no-img" style="display:none">
                        <span style="font-size:2rem; margin-bottom:5px">ðŸ’Ž</span>
                        <span>${p.id}</span>
                        <small style="font-size:0.7rem">Sin Foto</small>
                    </div>
                </div>
                <div class="card-body">
                    <div class="code">${p.id}</div>
                    <h3 class="name">${p.n}</h3>
                    <div class="desc">${p.d}</div>
                    <div class="footer">
                        <span class="price">â‚¡${p.p.toLocaleString()}</span>
                        <button class="add-btn" onclick="add('${p.id}')">Agregar</button>
                    </div>
                </div>
            `;
            grid.appendChild(card);
        });
        
        document.querySelectorAll('.cat-btn').forEach(btn => btn.classList.remove('active'));
        if(event) event.target.classList.add('active');
        else document.querySelector('.cat-btn').classList.add('active');
    }

    function filter(cat) { render(cat); }

    function add(id) {
        const p = products.find(i => i.id === id);
        cart.push(p);
        updateCart();
        alert(`Â¡${p.n} agregado!`);
    }

    function remove(index) {
        cart.splice(index, 1);
        updateCart();
    }

    function updateCart() {
        document.getElementById('cart-badge').innerText = cart.length;
        
        // Render List
        const list = document.getElementById('cart-list');
        if(cart.length === 0) list.innerHTML = '<p style="text-align:center;color:#999;padding:20px">Tu carrito estÃ¡ vacÃ­o</p>';
        else {
            list.innerHTML = cart.map((item, i) => `
                <div class="cart-item">
                    <div>
                        <strong>${item.n}</strong><br>
                        <small>${item.id}</small>
                    </div>
                    <div style="text-align:right">
                        <div>â‚¡${item.p.toLocaleString()}</div>
                        <small style="color:red;cursor:pointer" onclick="remove(${i})">Eliminar</small>
                    </div>
                </div>
            `).join('');
        }

        // CÃ¡lculos de Descuento
        const subtotal = cart.reduce((sum, i) => sum + i.p, 0);
        let discount = 0;
        const count = cart.length;
        
        const promoMsg = document.getElementById('promo-msg');
        const discountRow = document.getElementById('discount-row');

        if(count >= CONFIG.discountThreshold) {
            discount = subtotal * CONFIG.discountRate;
            promoMsg.classList.add('promo-success');
            promoMsg.innerHTML = `Â¡Felicidades! Tienes un <b>20% de descuento</b> aplicado.`;
            discountRow.style.display = 'flex';
        } else {
            promoMsg.classList.remove('promo-success');
            const missing = CONFIG.discountThreshold - count;
            promoMsg.innerHTML = `Â¡Agrega <b>${missing}</b> producto(s) mÃ¡s para obtener <b>20% de descuento</b>!`;
            discountRow.style.display = 'none';
        }

        const total = subtotal - discount;

        document.getElementById('subtotal').innerText = subtotal.toLocaleString();
        document.getElementById('discount-val').innerText = discount.toLocaleString();
        document.getElementById('final-total').innerText = total.toLocaleString();
    }

    function toggleCart() {
        const modal = document.getElementById('modal');
        modal.style.display = modal.style.display === 'flex' ? 'none' : 'flex';
        updateCart();
    }

    function checkout(method) {
        if(cart.length === 0) return alert("El carrito estÃ¡ vacÃ­o");
        
        const name = document.getElementById('name').value;
        const phone = document.getElementById('phone').value;
        const address = document.getElementById('address').value;
        
        if(!name) return alert("Por favor escribe tu nombre");

        // Recalcular para el mensaje
        const subtotal = cart.reduce((sum, i) => sum + i.p, 0);
        let discount = 0;
        if(cart.length >= CONFIG.discountThreshold) discount = subtotal * CONFIG.discountRate;
        const total = subtotal - discount;

        let msg = `Hola KAFLOCA STORE, soy ${name}. Deseo ordenar lo siguiente:\n\n`;
        cart.forEach(i => msg += `â–ª ${i.n} (${i.id}): â‚¡${i.p.toLocaleString()}\n`);
        
        msg += `\n----------------\n`;
        msg += `Subtotal: â‚¡${subtotal.toLocaleString()}\n`;
        if(discount > 0) msg += `Descuento (20%): -â‚¡${discount.toLocaleString()}\n`;
        msg += `*TOTAL A PAGAR: â‚¡${total.toLocaleString()}*\n`;
        
        if(phone) msg += `TelÃ©fono: ${phone}\n`;
        if(address) msg += `DirecciÃ³n: ${address}`;

        if(method === 'whatsapp') window.open(`https://wa.me/${CONFIG.whatsapp}?text=${encodeURIComponent(msg)}`);
        else window.location.href = `mailto:${CONFIG.email}?subject=Pedido ${name}&body=${encodeURIComponent(msg)}`;
    }

    // Iniciar
    render();
</script>

</body>
</html>
